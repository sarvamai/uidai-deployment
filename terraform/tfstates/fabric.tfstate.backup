{
  "version": 4,
  "terraform_version": "1.9.4",
  "serial": 456,
  "lineage": "2c783d11-df03-73c2-e952-2639c61a6d48",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "weaviate",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "weaviate",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": "Install complete",
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "kb-weaviate",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.26.1",
                "chart": "weaviate",
                "first_deployed": 1724749107,
                "last_deployed": 1724755194,
                "name": "kb-weaviate",
                "namespace": "default",
                "notes": "",
                "revision": 2,
                "values": "{\"replicas\":1}",
                "version": "17.1.1"
              }
            ],
            "name": "kb-weaviate",
            "namespace": "default",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": true,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://weaviate.github.io/weaviate-helm/",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": true,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "    replicas: 1\n"
            ],
            "verify": false,
            "version": "17.1.1",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_deployment_v1",
      "name": "redis_deployment",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/redis-deployment",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 8,
                "labels": {
                  "app": "redis"
                },
                "name": "redis-deployment",
                "namespace": "default",
                "resource_version": "76038398",
                "uid": "c574bce5-22b4-409d-87ac-946ab8408cd2"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app": "redis"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {},
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app": "redis"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [],
                            "command": [
                              "redis-server",
                              "--requirepass",
                              "$(REDIS_PASSWORD)"
                            ],
                            "env": [
                              {
                                "name": "REDIS_PASSWORD",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": [
                                      {
                                        "key": "REDIS_PASSWORD",
                                        "name": "redis-secrets",
                                        "optional": false
                                      }
                                    ]
                                  }
                                ]
                              }
                            ],
                            "env_from": [],
                            "image": "redis:6.2",
                            "image_pull_policy": "IfNotPresent",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "redis",
                            "port": [
                              {
                                "container_port": 6379,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {},
                                "requests": {}
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [
                              {
                                "mount_path": "/data/redis",
                                "mount_propagation": "None",
                                "name": "redis-storage",
                                "read_only": false,
                                "sub_path": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": {},
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 30,
                        "toleration": [
                          {
                            "effect": "NoSchedule",
                            "key": "sku",
                            "operator": "Equal",
                            "toleration_seconds": "",
                            "value": "gpu"
                          }
                        ],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "redis-storage",
                            "nfs": [],
                            "persistent_volume_claim": [
                              {
                                "claim_name": "local-storage-pvc",
                                "read_only": false
                              }
                            ],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.redis_secrets.kubernetes_secret_v1.main",
            "module.redis_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_persistent_volume",
      "name": "auth_postgres_pv",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "auth-postgres-pv",
            "metadata": [
              {
                "annotations": {},
                "generation": 0,
                "labels": {},
                "name": "auth-postgres-pv",
                "resource_version": "77949333",
                "uid": "18cbb28f-e396-444b-b024-1af89716aa20"
              }
            ],
            "spec": [
              {
                "access_modes": [
                  "ReadWriteMany"
                ],
                "capacity": {
                  "storage": "30Gi"
                },
                "claim_ref": [
                  {
                    "name": "auth-postgres-pvc",
                    "namespace": "default"
                  }
                ],
                "mount_options": [],
                "node_affinity": [],
                "persistent_volume_reclaim_policy": "Retain",
                "persistent_volume_source": [
                  {
                    "aws_elastic_block_store": [],
                    "azure_disk": [],
                    "azure_file": [],
                    "ceph_fs": [],
                    "cinder": [],
                    "csi": [],
                    "fc": [],
                    "flex_volume": [],
                    "flocker": [],
                    "gce_persistent_disk": [],
                    "glusterfs": [],
                    "host_path": [
                      {
                        "path": "/mnt/data/postgres/auth",
                        "type": ""
                      }
                    ],
                    "iscsi": [],
                    "local": [],
                    "nfs": [],
                    "photon_persistent_disk": [],
                    "quobyte": [],
                    "rbd": [],
                    "vsphere_volume": []
                  }
                ],
                "storage_class_name": "manual",
                "volume_mode": "Filesystem"
              }
            ],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_persistent_volume",
      "name": "kb_postgres_pv",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "kb-postgres-pv",
            "metadata": [
              {
                "annotations": {},
                "generation": 0,
                "labels": {},
                "name": "kb-postgres-pv",
                "resource_version": "77949331",
                "uid": "3207c099-d1a4-4fd9-9780-aa909f1021bb"
              }
            ],
            "spec": [
              {
                "access_modes": [
                  "ReadWriteMany"
                ],
                "capacity": {
                  "storage": "30Gi"
                },
                "claim_ref": [
                  {
                    "name": "kb-postgres-pvc",
                    "namespace": "default"
                  }
                ],
                "mount_options": [],
                "node_affinity": [],
                "persistent_volume_reclaim_policy": "Retain",
                "persistent_volume_source": [
                  {
                    "aws_elastic_block_store": [],
                    "azure_disk": [],
                    "azure_file": [],
                    "ceph_fs": [],
                    "cinder": [],
                    "csi": [],
                    "fc": [],
                    "flex_volume": [],
                    "flocker": [],
                    "gce_persistent_disk": [],
                    "glusterfs": [],
                    "host_path": [
                      {
                        "path": "/mnt/data/postgres/kb",
                        "type": ""
                      }
                    ],
                    "iscsi": [],
                    "local": [],
                    "nfs": [],
                    "photon_persistent_disk": [],
                    "quobyte": [],
                    "rbd": [],
                    "vsphere_volume": []
                  }
                ],
                "storage_class_name": "manual",
                "volume_mode": "Filesystem"
              }
            ],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_persistent_volume_claim",
      "name": "auth_postgres_pvc",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "default/auth-postgres-pvc",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "auth-postgres-pvc",
                "namespace": "default",
                "resource_version": "77949348",
                "uid": "9fab5b97-95d0-40c3-b679-5ed1c6673065"
              }
            ],
            "spec": [
              {
                "access_modes": [
                  "ReadWriteMany"
                ],
                "resources": [
                  {
                    "limits": {},
                    "requests": {
                      "storage": "30Gi"
                    }
                  }
                ],
                "selector": [],
                "storage_class_name": "manual",
                "volume_mode": "Filesystem",
                "volume_name": "auth-postgres-pv"
              }
            ],
            "timeouts": null,
            "wait_until_bound": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "kubernetes_persistent_volume.auth_postgres_pv"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_persistent_volume_claim",
      "name": "kb_postgres_pvc",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "default/kb-postgres-pvc",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "kb-postgres-pvc",
                "namespace": "default",
                "resource_version": "77949346",
                "uid": "420babe2-80c8-413a-b219-914a7d19fa63"
              }
            ],
            "spec": [
              {
                "access_modes": [
                  "ReadWriteMany"
                ],
                "resources": [
                  {
                    "limits": {},
                    "requests": {
                      "storage": "30Gi"
                    }
                  }
                ],
                "selector": [],
                "storage_class_name": "manual",
                "volume_mode": "Filesystem",
                "volume_name": "kb-postgres-pv"
              }
            ],
            "timeouts": null,
            "wait_until_bound": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "kubernetes_persistent_volume.kb_postgres_pv"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_service_v1",
      "name": "auth_postgres_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/auth-postgres-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "auth-postgres-service",
                "namespace": "default",
                "resource_version": "75602066",
                "uid": "93f502c7-85ab-47a7-a225-18a79267880c"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.0.127.198",
                "cluster_ips": [
                  "10.0.127.198"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "",
                    "node_port": 0,
                    "port": 5432,
                    "protocol": "TCP",
                    "target_port": "5432"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app": "auth-postgres"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_service_v1",
      "name": "kb_postgres_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/kb-postgres-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "kb-postgres-service",
                "namespace": "default",
                "resource_version": "75602064",
                "uid": "c1587580-a10f-4d0b-8018-ba8436cbf7b3"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.0.134.24",
                "cluster_ips": [
                  "10.0.134.24"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "",
                    "node_port": 0,
                    "port": 5432,
                    "protocol": "TCP",
                    "target_port": "5432"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app": "kb-postgres"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_service_v1",
      "name": "redis_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/redis-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "redis-service",
                "namespace": "default",
                "resource_version": "75554659",
                "uid": "056a04f4-1767-4e4d-b1c8-60a4733293eb"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.0.5.75",
                "cluster_ips": [
                  "10.0.5.75"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "",
                    "node_port": 0,
                    "port": 6379,
                    "protocol": "TCP",
                    "target_port": "6379"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app": "redis"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_stateful_set_v1",
      "name": "auth_postgres_statefulset",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/auth-postgres-statefulset",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {
                  "app": "auth-postgres"
                },
                "name": "auth-postgres-statefulset",
                "namespace": "default",
                "resource_version": "77949414",
                "uid": "7b350335-e106-4cb7-97ba-624dd10d8c9c"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "persistent_volume_claim_retention_policy": [
                  {
                    "when_deleted": "Retain",
                    "when_scaled": "Retain"
                  }
                ],
                "pod_management_policy": "OrderedReady",
                "replicas": "1",
                "revision_history_limit": 0,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app": "auth-postgres"
                    }
                  }
                ],
                "service_name": "auth-postgres",
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {},
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app": "auth-postgres"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [],
                            "command": [],
                            "env": [
                              {
                                "name": "POSTGRES_PASSWORD",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": [
                                      {
                                        "key": "DATABASE_PASSWORD",
                                        "name": "auth-postgres-db-secrets",
                                        "optional": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name": "POSTGRES_DB",
                                "value": "auth-db",
                                "value_from": []
                              },
                              {
                                "name": "POSTGRES_USER",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [
                                      {
                                        "key": "DATABASE_USER",
                                        "name": "auth-postgres-db-env",
                                        "optional": false
                                      }
                                    ],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": []
                                  }
                                ]
                              }
                            ],
                            "env_from": [],
                            "image": "postgres",
                            "image_pull_policy": "Always",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "postgres",
                            "port": [
                              {
                                "container_port": 5432,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {},
                                "requests": {}
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [
                              {
                                "mount_path": "/var/lib/postgresql/data",
                                "mount_propagation": "None",
                                "name": "postgres-storage",
                                "read_only": false,
                                "sub_path": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": {},
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 30,
                        "toleration": [
                          {
                            "effect": "NoSchedule",
                            "key": "sku",
                            "operator": "Equal",
                            "toleration_seconds": "",
                            "value": "gpu"
                          }
                        ],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "postgres-storage",
                            "nfs": [],
                            "persistent_volume_claim": [
                              {
                                "claim_name": "auth-postgres-pvc",
                                "read_only": false
                              }
                            ],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ],
                "update_strategy": [],
                "volume_claim_template": []
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJyZWFkIjo2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "kubernetes_persistent_volume.auth_postgres_pv",
            "kubernetes_persistent_volume_claim.auth_postgres_pvc",
            "module.auth_postgres_db_env.kubernetes_config_map_v1.main",
            "module.auth_postgres_db_secrets.kubernetes_secret_v1.main",
            "module.auth_postgres_db_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_stateful_set_v1",
      "name": "kb_postgres_statefulset",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/kb-postgres-statefulset",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {
                  "app": "kb-postgres"
                },
                "name": "kb-postgres-statefulset",
                "namespace": "default",
                "resource_version": "77949408",
                "uid": "9b2d4534-de6c-43c1-a257-09c9cc312468"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "persistent_volume_claim_retention_policy": [
                  {
                    "when_deleted": "Retain",
                    "when_scaled": "Retain"
                  }
                ],
                "pod_management_policy": "OrderedReady",
                "replicas": "1",
                "revision_history_limit": 0,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app": "kb-postgres"
                    }
                  }
                ],
                "service_name": "kb-postgres",
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {},
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app": "kb-postgres"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [],
                            "command": [],
                            "env": [
                              {
                                "name": "POSTGRES_PASSWORD",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": [
                                      {
                                        "key": "DATABASE_PASSWORD",
                                        "name": "kb-postgres-db-secrets",
                                        "optional": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name": "POSTGRES_DB",
                                "value": "kb-db",
                                "value_from": []
                              },
                              {
                                "name": "POSTGRES_USER",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [
                                      {
                                        "key": "DATABASE_USER",
                                        "name": "kb-postgres-db-env",
                                        "optional": false
                                      }
                                    ],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": []
                                  }
                                ]
                              }
                            ],
                            "env_from": [],
                            "image": "postgres",
                            "image_pull_policy": "Always",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "postgres",
                            "port": [
                              {
                                "container_port": 5432,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {},
                                "requests": {}
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [
                              {
                                "mount_path": "/var/lib/postgresql/data",
                                "mount_propagation": "None",
                                "name": "postgres-storage",
                                "read_only": false,
                                "sub_path": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": {},
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 30,
                        "toleration": [
                          {
                            "effect": "NoSchedule",
                            "key": "sku",
                            "operator": "Equal",
                            "toleration_seconds": "",
                            "value": "gpu"
                          }
                        ],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "postgres-storage",
                            "nfs": [],
                            "persistent_volume_claim": [
                              {
                                "claim_name": "kb-postgres-pvc",
                                "read_only": false
                              }
                            ],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ],
                "update_strategy": [],
                "volume_claim_template": []
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJyZWFkIjo2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "kubernetes_persistent_volume.kb_postgres_pv",
            "kubernetes_persistent_volume_claim.kb_postgres_pvc",
            "module.auth_postgres_db_env.kubernetes_config_map_v1.main",
            "module.auth_postgres_db_secrets.kubernetes_secret_v1.main",
            "module.auth_postgres_db_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "module": "module.auth_postgres_db_env",
      "mode": "managed",
      "type": "kubernetes_config_map_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "DATABASE_HOST": "auth-postgres-service",
              "DATABASE_PORT": "5432",
              "DATABASE_USER": "postgres"
            },
            "id": "default/auth-postgres-db-env",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "auth-postgres-db-env",
                "namespace": "default",
                "resource_version": "75895840",
                "uid": "748084b4-3eaf-4412-b7c7-4bbd991a0966"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.auth_postgres_db_secrets",
      "mode": "managed",
      "type": "kubernetes_secret_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "data": {
              "DATABASE_PASSWORD": "password"
            },
            "id": "default/auth-postgres-db-secrets",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "auth-postgres-db-secrets",
                "namespace": "default",
                "resource_version": "75897753",
                "uid": "c0e7eff1-af84-40f1-b7f8-572f03863226"
              }
            ],
            "timeouts": null,
            "type": "Opaque",
            "wait_for_service_account_token": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "binary_data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "data"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.auth_postgres_db_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "module": "module.auth_service",
      "mode": "managed",
      "type": "kubernetes_deployment_v1",
      "name": "deploy",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/auth-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 17,
                "labels": {
                  "app.kubernetes.io/name": "auth-service"
                },
                "name": "auth-service",
                "namespace": "default",
                "resource_version": "77955696",
                "uid": "092c1fe5-929f-4ab7-a8fe-74f39cb9d260"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app.kubernetes.io/name": "auth-service"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {
                          "kubectl.kubernetes.io/restartedAt": "2024-09-02T18:07:10+05:30"
                        },
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app.kubernetes.io/name": "auth-service",
                          "azure.workload.identity/use": "true"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [],
                            "command": [],
                            "env": [
                              {
                                "name": "FIRST_USER_PASSWORD",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": [
                                      {
                                        "key": "FIRST_USER_PASSWORD",
                                        "name": "auth-service-secrets",
                                        "optional": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name": "TOKEN_JWT_SECRET_ACCESS_KEY",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": [
                                      {
                                        "key": "TOKEN_JWT_SECRET_ACCESS_KEY",
                                        "name": "auth-shared-secrets",
                                        "optional": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name": "TOKEN_JWT_SECRET_REFRESH_KEY",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": [
                                      {
                                        "key": "TOKEN_JWT_SECRET_REFRESH_KEY",
                                        "name": "auth-service-secrets",
                                        "optional": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name": "BASE_LOGIN_URL",
                                "value": "http://auth-service/api/auth/form-login",
                                "value_from": []
                              },
                              {
                                "name": "BASE_ROOT_PATH",
                                "value": "/api/auth",
                                "value_from": []
                              },
                              {
                                "name": "DATABASE_NAME",
                                "value": "auth-db",
                                "value_from": []
                              },
                              {
                                "name": "FIRST_USER_CREATE",
                                "value": "true",
                                "value_from": []
                              },
                              {
                                "name": "TOKEN_ACCESS_TOKEN_EXPIRE_MINUTES",
                                "value": "10080",
                                "value_from": []
                              }
                            ],
                            "env_from": [
                              {
                                "config_map_ref": [
                                  {
                                    "name": "auth-postgres-db-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [
                                  {
                                    "name": "observe-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [],
                                "prefix": "",
                                "secret_ref": [
                                  {
                                    "name": "auth-postgres-db-secrets",
                                    "optional": false
                                  }
                                ]
                              }
                            ],
                            "image": "gitopsdocker.azurecr.io/auth-service",
                            "image_pull_policy": "Always",
                            "lifecycle": [
                              {
                                "post_start": [],
                                "pre_stop": [
                                  {
                                    "exec": [
                                      {
                                        "command": [
                                          "sleep",
                                          "80"
                                        ]
                                      }
                                    ],
                                    "http_get": [],
                                    "tcp_socket": []
                                  }
                                ]
                              }
                            ],
                            "liveness_probe": [],
                            "name": "auth-service",
                            "port": [
                              {
                                "container_port": 8080,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {},
                                "requests": {
                                  "cpu": "100m",
                                  "memory": "1Gi"
                                }
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": {},
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "default",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 90,
                        "toleration": [
                          {
                            "effect": "NoSchedule",
                            "key": "sku",
                            "operator": "Equal",
                            "toleration_seconds": "",
                            "value": "gpu"
                          }
                        ],
                        "topology_spread_constraint": [],
                        "volume": []
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"
        }
      ]
    },
    {
      "module": "module.auth_service",
      "mode": "managed",
      "type": "kubernetes_service_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "1",
          "schema_version": 1,
          "attributes": {
            "id": "default/auth-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "auth-service",
                "namespace": "default",
                "resource_version": "76058289",
                "uid": "06fae71d-9710-41fe-8bdd-a812e4282c71"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.0.31.175",
                "cluster_ips": [
                  "10.0.31.175"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "http",
                    "node_port": 32742,
                    "port": 80,
                    "protocol": "TCP",
                    "target_port": "8080"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app.kubernetes.io/name": "auth-service"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "LoadBalancer"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": [
                      {
                        "hostname": "",
                        "ip": "135.237.34.173"
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.auth_service_secrets",
      "mode": "managed",
      "type": "kubernetes_secret_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "data": {
              "FIRST_USER_PASSWORD": "funny-dove",
              "TOKEN_JWT_SECRET_REFRESH_KEY": "true-basilisk"
            },
            "id": "default/auth-service-secrets",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "auth-service-secrets",
                "namespace": "default",
                "resource_version": "75599109",
                "uid": "e82db2e6-4bbf-4370-9ad1-670acbd21839"
              }
            ],
            "timeouts": null,
            "type": "Opaque",
            "wait_for_service_account_token": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "binary_data"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.auth_service_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "module": "module.auth_service_secrets",
      "mode": "managed",
      "type": "random_pet",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "index_key": "FIRST_USER_PASSWORD",
          "schema_version": 0,
          "attributes": {
            "id": "funny-dove",
            "keepers": null,
            "length": 2,
            "prefix": null,
            "separator": "-"
          },
          "sensitive_attributes": []
        },
        {
          "index_key": "TOKEN_JWT_SECRET_REFRESH_KEY",
          "schema_version": 0,
          "attributes": {
            "id": "true-basilisk",
            "keepers": null,
            "length": 2,
            "prefix": null,
            "separator": "-"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.auth_shared_secrets",
      "mode": "managed",
      "type": "kubernetes_secret_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "data": {
              "TOKEN_JWT_SECRET_ACCESS_KEY": "united-dory"
            },
            "id": "default/auth-shared-secrets",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "auth-shared-secrets",
                "namespace": "default",
                "resource_version": "75599107",
                "uid": "02132188-dc36-41ef-afaa-80e4509bbe86"
              }
            ],
            "timeouts": null,
            "type": "Opaque",
            "wait_for_service_account_token": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "binary_data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "data"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.auth_shared_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "module": "module.auth_shared_secrets",
      "mode": "managed",
      "type": "random_pet",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "index_key": "TOKEN_JWT_SECRET_ACCESS_KEY",
          "schema_version": 0,
          "attributes": {
            "id": "united-dory",
            "keepers": null,
            "length": 2,
            "prefix": null,
            "separator": "-"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.kb_postgres_db_env",
      "mode": "managed",
      "type": "kubernetes_config_map_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "DATABASE_HOST": "kb-postgres-service",
              "DATABASE_PORT": "5432",
              "DATABASE_USER": "postgres"
            },
            "id": "default/kb-postgres-db-env",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "kb-postgres-db-env",
                "namespace": "default",
                "resource_version": "75895841",
                "uid": "7e10c80a-b95d-41e8-a93a-269adfd96dde"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.kb_postgres_db_secrets",
      "mode": "managed",
      "type": "kubernetes_secret_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "data": {
              "DATABASE_PASSWORD": "password"
            },
            "id": "default/kb-postgres-db-secrets",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "kb-postgres-db-secrets",
                "namespace": "default",
                "resource_version": "75897752",
                "uid": "73f3f5b3-0e09-4abe-b4b2-4e6ee6ead791"
              }
            ],
            "timeouts": null,
            "type": "Opaque",
            "wait_for_service_account_token": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "binary_data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "data"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.kb_postgres_db_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "module": "module.knowledge_base_authoring_service",
      "mode": "managed",
      "type": "kubernetes_deployment_v1",
      "name": "deploy",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/knowledge-base-authoring-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 10,
                "labels": {
                  "app.kubernetes.io/name": "knowledge-base-authoring-service"
                },
                "name": "knowledge-base-authoring-service",
                "namespace": "default",
                "resource_version": "78360997",
                "uid": "a47dc88e-1a33-4a9c-95b1-94139bd5ee37"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app.kubernetes.io/name": "knowledge-base-authoring-service"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {
                          "kubectl.kubernetes.io/restartedAt": "2024-09-03T18:53:08+05:30"
                        },
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app.kubernetes.io/name": "knowledge-base-authoring-service",
                          "azure.workload.identity/use": "true"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [],
                            "command": [],
                            "env": [
                              {
                                "name": "TOKEN_JWT_SECRET_ACCESS_KEY",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": [
                                      {
                                        "key": "TOKEN_JWT_SECRET_ACCESS_KEY",
                                        "name": "auth-shared-secrets",
                                        "optional": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name": "WEAVIATE_URL",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [
                                      {
                                        "key": "weaviate-url",
                                        "name": "weaviate-env",
                                        "optional": false
                                      }
                                    ],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": []
                                  }
                                ]
                              },
                              {
                                "name": "BASE_LOGIN_URL",
                                "value": "http://kb-service/api/kb/form-login",
                                "value_from": []
                              },
                              {
                                "name": "BASE_ROOT_PATH",
                                "value": "/api/kb",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BACKEND_DB",
                                "value": "1",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BACKEND_URL",
                                "value": "$(REDIS_URL_PREFIX)/$(CELERY_BACKEND_DB)",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BROKER_DB",
                                "value": "0",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BROKER_URL",
                                "value": "$(REDIS_URL_PREFIX)/$(CELERY_BROKER_DB)",
                                "value_from": []
                              },
                              {
                                "name": "DATABASE_NAME",
                                "value": "kb-db",
                                "value_from": []
                              },
                              {
                                "name": "HOSTED_EMBEDDING_URL",
                                "value": "riva-combined-dev-service:8000",
                                "value_from": []
                              },
                              {
                                "name": "HOSTED_RERANKING_URL",
                                "value": "riva-combined-dev-service:8000",
                                "value_from": []
                              },
                              {
                                "name": "HUGGINGFACE_HUB_TOKEN",
                                "value": "",
                                "value_from": []
                              },
                              {
                                "name": "KB_STORAGE_PATH",
                                "value": "/mnt/pvc/kb-storage/knowledge-base/",
                                "value_from": []
                              },
                              {
                                "name": "LOG_LEVEL",
                                "value": "DEBUG",
                                "value_from": []
                              },
                              {
                                "name": "OPENAI_API_KEY",
                                "value": "",
                                "value_from": []
                              }
                            ],
                            "env_from": [
                              {
                                "config_map_ref": [
                                  {
                                    "name": "kb-postgres-db-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [
                                  {
                                    "name": "observe-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [
                                  {
                                    "name": "redis-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [],
                                "prefix": "",
                                "secret_ref": [
                                  {
                                    "name": "kb-postgres-db-secrets",
                                    "optional": false
                                  }
                                ]
                              },
                              {
                                "config_map_ref": [],
                                "prefix": "",
                                "secret_ref": [
                                  {
                                    "name": "redis-secrets",
                                    "optional": false
                                  }
                                ]
                              }
                            ],
                            "image": "gitopsdocker.azurecr.io/knowledge-base-service",
                            "image_pull_policy": "Always",
                            "lifecycle": [
                              {
                                "post_start": [],
                                "pre_stop": [
                                  {
                                    "exec": [
                                      {
                                        "command": [
                                          "sleep",
                                          "80"
                                        ]
                                      }
                                    ],
                                    "http_get": [],
                                    "tcp_socket": []
                                  }
                                ]
                              }
                            ],
                            "liveness_probe": [],
                            "name": "knowledge-base-authoring-service",
                            "port": [
                              {
                                "container_port": 8080,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {},
                                "requests": {}
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [
                              {
                                "mount_path": "/mnt/pvc",
                                "mount_propagation": "None",
                                "name": "shared-pvc",
                                "read_only": false,
                                "sub_path": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": {},
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "default",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 90,
                        "toleration": [
                          {
                            "effect": "NoSchedule",
                            "key": "sku",
                            "operator": "Equal",
                            "toleration_seconds": "",
                            "value": "gpu"
                          }
                        ],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "shared-pvc",
                            "nfs": [],
                            "persistent_volume_claim": [
                              {
                                "claim_name": "local-storage-pvc",
                                "read_only": false
                              }
                            ],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.auth_shared_secrets.kubernetes_secret_v1.main",
            "module.auth_shared_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "module": "module.knowledge_base_authoring_service",
      "mode": "managed",
      "type": "kubernetes_service_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "1",
          "schema_version": 1,
          "attributes": {
            "id": "default/knowledge-base-authoring-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "knowledge-base-authoring-service",
                "namespace": "default",
                "resource_version": "76046051",
                "uid": "a14d6482-5827-463e-8d84-5d863de950b2"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.0.214.140",
                "cluster_ips": [
                  "10.0.214.140"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "http",
                    "node_port": 30725,
                    "port": 80,
                    "protocol": "TCP",
                    "target_port": "8080"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app.kubernetes.io/name": "knowledge-base-authoring-service"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "LoadBalancer"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": [
                      {
                        "hostname": "",
                        "ip": "48.217.13.151"
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.knowledge_base_authoring_service_worker",
      "mode": "managed",
      "type": "kubernetes_deployment_v1",
      "name": "deploy",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/knowledge-base-service-worker",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 10,
                "labels": {
                  "app.kubernetes.io/name": "knowledge-base-service-worker"
                },
                "name": "knowledge-base-service-worker",
                "namespace": "default",
                "resource_version": "78361109",
                "uid": "fa087627-630b-4f15-a6fd-a40c96998bb3"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app.kubernetes.io/name": "knowledge-base-service-worker"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {
                          "kubectl.kubernetes.io/restartedAt": "2024-09-03T18:53:20+05:30"
                        },
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app.kubernetes.io/name": "knowledge-base-service-worker",
                          "azure.workload.identity/use": "true"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [],
                            "command": [],
                            "env": [
                              {
                                "name": "TOKEN_JWT_SECRET_ACCESS_KEY",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": [
                                      {
                                        "key": "TOKEN_JWT_SECRET_ACCESS_KEY",
                                        "name": "auth-shared-secrets",
                                        "optional": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name": "WEAVIATE_URL",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [
                                      {
                                        "key": "weaviate-url",
                                        "name": "weaviate-env",
                                        "optional": false
                                      }
                                    ],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": []
                                  }
                                ]
                              },
                              {
                                "name": "BASE_LOGIN_URL",
                                "value": "http://kb-service/api/kb/form-login",
                                "value_from": []
                              },
                              {
                                "name": "BASE_ROOT_PATH",
                                "value": "/api/kb",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BACKEND_DB",
                                "value": "1",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BACKEND_URL",
                                "value": "$(REDIS_URL_PREFIX)/$(CELERY_BACKEND_DB)",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BROKER_DB",
                                "value": "0",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BROKER_URL",
                                "value": "$(REDIS_URL_PREFIX)/$(CELERY_BROKER_DB)",
                                "value_from": []
                              },
                              {
                                "name": "DATABASE_NAME",
                                "value": "kb-db",
                                "value_from": []
                              },
                              {
                                "name": "HOSTED_EMBEDDING_URL",
                                "value": "riva-combined-dev-service:8000",
                                "value_from": []
                              },
                              {
                                "name": "HOSTED_RERANKING_URL",
                                "value": "riva-combined-dev-service:8000",
                                "value_from": []
                              },
                              {
                                "name": "HUGGINGFACE_HUB_TOKEN",
                                "value": "",
                                "value_from": []
                              },
                              {
                                "name": "KB_STORAGE_PATH",
                                "value": "/mnt/pvc/kb-storage/knowledge-base/",
                                "value_from": []
                              },
                              {
                                "name": "LOG_LEVEL",
                                "value": "DEBUG",
                                "value_from": []
                              },
                              {
                                "name": "OPENAI_API_KEY",
                                "value": "",
                                "value_from": []
                              },
                              {
                                "name": "ROLE",
                                "value": "worker",
                                "value_from": []
                              }
                            ],
                            "env_from": [
                              {
                                "config_map_ref": [
                                  {
                                    "name": "kb-postgres-db-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [
                                  {
                                    "name": "observe-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [
                                  {
                                    "name": "redis-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [],
                                "prefix": "",
                                "secret_ref": [
                                  {
                                    "name": "kb-postgres-db-secrets",
                                    "optional": false
                                  }
                                ]
                              },
                              {
                                "config_map_ref": [],
                                "prefix": "",
                                "secret_ref": [
                                  {
                                    "name": "redis-secrets",
                                    "optional": false
                                  }
                                ]
                              }
                            ],
                            "image": "gitopsdocker.azurecr.io/knowledge-base-service",
                            "image_pull_policy": "Always",
                            "lifecycle": [
                              {
                                "post_start": [],
                                "pre_stop": [
                                  {
                                    "exec": [
                                      {
                                        "command": [
                                          "sleep",
                                          "80"
                                        ]
                                      }
                                    ],
                                    "http_get": [],
                                    "tcp_socket": []
                                  }
                                ]
                              }
                            ],
                            "liveness_probe": [],
                            "name": "knowledge-base-service-worker",
                            "port": [],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {
                                  "cpu": "1",
                                  "memory": "3000Mi"
                                },
                                "requests": {
                                  "cpu": "500m",
                                  "memory": "1500Mi"
                                }
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [
                              {
                                "mount_path": "/mnt/pvc",
                                "mount_propagation": "None",
                                "name": "shared-pvc",
                                "read_only": false,
                                "sub_path": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": {},
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "default",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 90,
                        "toleration": [
                          {
                            "effect": "NoSchedule",
                            "key": "sku",
                            "operator": "Equal",
                            "toleration_seconds": "",
                            "value": "gpu"
                          }
                        ],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "shared-pvc",
                            "nfs": [],
                            "persistent_volume_claim": [
                              {
                                "claim_name": "local-storage-pvc",
                                "read_only": false
                              }
                            ],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.auth_shared_secrets.kubernetes_secret_v1.main",
            "module.auth_shared_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "module": "module.knowledge_base_runtime_service",
      "mode": "managed",
      "type": "kubernetes_deployment_v1",
      "name": "deploy",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/knowledge-base-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 8,
                "labels": {
                  "app.kubernetes.io/name": "knowledge-base-service"
                },
                "name": "knowledge-base-service",
                "namespace": "default",
                "resource_version": "78361048",
                "uid": "757cb247-4fdc-4d7c-85a8-4894d68e60e1"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app.kubernetes.io/name": "knowledge-base-service"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {
                          "kubectl.kubernetes.io/restartedAt": "2024-09-03T18:53:13+05:30"
                        },
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app.kubernetes.io/name": "knowledge-base-service",
                          "azure.workload.identity/use": "true"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [],
                            "command": [],
                            "env": [
                              {
                                "name": "TOKEN_JWT_SECRET_ACCESS_KEY",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": [
                                      {
                                        "key": "TOKEN_JWT_SECRET_ACCESS_KEY",
                                        "name": "auth-shared-secrets",
                                        "optional": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name": "WEAVIATE_URL",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [
                                      {
                                        "key": "weaviate-url",
                                        "name": "weaviate-env",
                                        "optional": false
                                      }
                                    ],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": []
                                  }
                                ]
                              },
                              {
                                "name": "BASE_LOGIN_URL",
                                "value": "http://kb-service/api/kb/form-login",
                                "value_from": []
                              },
                              {
                                "name": "BASE_ROOT_PATH",
                                "value": "/api/kb",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BACKEND_DB",
                                "value": "1",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BACKEND_URL",
                                "value": "$(REDIS_URL_PREFIX)/$(CELERY_BACKEND_DB)",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BROKER_DB",
                                "value": "0",
                                "value_from": []
                              },
                              {
                                "name": "CELERY_BROKER_URL",
                                "value": "$(REDIS_URL_PREFIX)/$(CELERY_BROKER_DB)",
                                "value_from": []
                              },
                              {
                                "name": "DATABASE_NAME",
                                "value": "kb-db",
                                "value_from": []
                              },
                              {
                                "name": "HOSTED_EMBEDDING_URL",
                                "value": "riva-combined-dev-service:8000",
                                "value_from": []
                              },
                              {
                                "name": "HOSTED_RERANKING_URL",
                                "value": "riva-combined-dev-service:8000",
                                "value_from": []
                              },
                              {
                                "name": "HUGGINGFACE_HUB_TOKEN",
                                "value": "",
                                "value_from": []
                              },
                              {
                                "name": "KB_STORAGE_PATH",
                                "value": "/mnt/pvc/kb-storage/knowledge-base/",
                                "value_from": []
                              },
                              {
                                "name": "LOG_LEVEL",
                                "value": "DEBUG",
                                "value_from": []
                              },
                              {
                                "name": "OPENAI_API_KEY",
                                "value": "",
                                "value_from": []
                              },
                              {
                                "name": "ROLE",
                                "value": "query-service",
                                "value_from": []
                              }
                            ],
                            "env_from": [
                              {
                                "config_map_ref": [
                                  {
                                    "name": "kb-postgres-db-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [
                                  {
                                    "name": "observe-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [
                                  {
                                    "name": "redis-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [],
                                "prefix": "",
                                "secret_ref": [
                                  {
                                    "name": "kb-postgres-db-secrets",
                                    "optional": false
                                  }
                                ]
                              },
                              {
                                "config_map_ref": [],
                                "prefix": "",
                                "secret_ref": [
                                  {
                                    "name": "redis-secrets",
                                    "optional": false
                                  }
                                ]
                              }
                            ],
                            "image": "gitopsdocker.azurecr.io/knowledge-base-service",
                            "image_pull_policy": "Always",
                            "lifecycle": [
                              {
                                "post_start": [],
                                "pre_stop": [
                                  {
                                    "exec": [
                                      {
                                        "command": [
                                          "sleep",
                                          "80"
                                        ]
                                      }
                                    ],
                                    "http_get": [],
                                    "tcp_socket": []
                                  }
                                ]
                              }
                            ],
                            "liveness_probe": [],
                            "name": "knowledge-base-service",
                            "port": [
                              {
                                "container_port": 8080,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {
                                  "cpu": "1",
                                  "memory": "3000Mi"
                                },
                                "requests": {
                                  "cpu": "500m",
                                  "memory": "1500Mi"
                                }
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [
                              {
                                "mount_path": "/mnt/pvc",
                                "mount_propagation": "None",
                                "name": "shared-pvc",
                                "read_only": false,
                                "sub_path": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": {},
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "default",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 90,
                        "toleration": [
                          {
                            "effect": "NoSchedule",
                            "key": "sku",
                            "operator": "Equal",
                            "toleration_seconds": "",
                            "value": "gpu"
                          }
                        ],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "shared-pvc",
                            "nfs": [],
                            "persistent_volume_claim": [
                              {
                                "claim_name": "local-storage-pvc",
                                "read_only": false
                              }
                            ],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.auth_shared_secrets.kubernetes_secret_v1.main",
            "module.auth_shared_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "module": "module.knowledge_base_runtime_service",
      "mode": "managed",
      "type": "kubernetes_service_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "1",
          "schema_version": 1,
          "attributes": {
            "id": "default/knowledge-base-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "knowledge-base-service",
                "namespace": "default",
                "resource_version": "76097591",
                "uid": "1204aa21-b1fc-4bff-860b-839785888709"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.0.203.220",
                "cluster_ips": [
                  "10.0.203.220"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "http",
                    "node_port": 30497,
                    "port": 80,
                    "protocol": "TCP",
                    "target_port": "8080"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app.kubernetes.io/name": "knowledge-base-service"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "LoadBalancer"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": [
                      {
                        "hostname": "",
                        "ip": "57.152.71.132"
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.observe_env",
      "mode": "managed",
      "type": "kubernetes_config_map_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "OBSERVE_USE_GCP": "false"
            },
            "id": "default/observe-env",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "observe-env",
                "namespace": "default",
                "resource_version": "75563840",
                "uid": "4aec73da-61e8-4609-b913-8f8746086d1a"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.redis_config_maps",
      "mode": "managed",
      "type": "kubernetes_config_map_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "REDIS_HOST": "redis-service",
              "REDIS_PORT": "6379",
              "REDIS_TLS": "false"
            },
            "id": "default/redis-env",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "redis-env",
                "namespace": "default",
                "resource_version": "76039857",
                "uid": "6fe066cf-6008-44a4-8a8d-d53e99c520bd"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.redis_secrets",
      "mode": "managed",
      "type": "kubernetes_secret_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "data": {
              "REDIS_PASSWORD": "password",
              "REDIS_URL_PREFIX": "redis://:password@redis-service:6379"
            },
            "id": "default/redis-secrets",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "redis-secrets",
                "namespace": "default",
                "resource_version": "75898197",
                "uid": "47505627-b118-4cbd-87f6-edab2628c24d"
              }
            ],
            "timeouts": null,
            "type": "Opaque",
            "wait_for_service_account_token": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "binary_data"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.redis_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "module": "module.runtime_service_urls",
      "mode": "managed",
      "type": "kubernetes_config_map_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "APP_AUTHORING_SERVICE_URL": "http://sarvam-app-authoring-service",
              "KNOWLEDGE_BASE_SERVICE_AUTHORING_URL": "http://knowledge-base-authoring-service",
              "KNOWLEDGE_BASE_SERVICE_URL": "http://knowledge-base-service"
            },
            "id": "default/service-urls",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "service-urls",
                "namespace": "default",
                "resource_version": "75599077",
                "uid": "de12c02e-1dac-4233-a3cd-6e6ca86a22ab"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.sarvam_app_runtime_svc",
      "mode": "managed",
      "type": "kubernetes_deployment_v1",
      "name": "deploy",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/sarvam-app-runtime-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 22,
                "labels": {
                  "app.kubernetes.io/name": "sarvam-app-runtime-service"
                },
                "name": "sarvam-app-runtime-service",
                "namespace": "default",
                "resource_version": "77927339",
                "uid": "e867b9f8-cdf0-4860-bcfe-6777376f8c0f"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app.kubernetes.io/name": "sarvam-app-runtime-service"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {
                          "kubectl.kubernetes.io/restartedAt": "2024-09-02T15:30:26+05:30"
                        },
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app.kubernetes.io/name": "sarvam-app-runtime-service",
                          "azure.workload.identity/use": "true"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [],
                            "command": [],
                            "env": [
                              {
                                "name": "TOKEN_JWT_SECRET_ACCESS_KEY",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": [
                                      {
                                        "key": "TOKEN_JWT_SECRET_ACCESS_KEY",
                                        "name": "auth-shared-secrets",
                                        "optional": false
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name": "KNOWLEDGE_BASE_SERVICE_URL",
                                "value": "",
                                "value_from": [
                                  {
                                    "config_map_key_ref": [
                                      {
                                        "key": "KNOWLEDGE_BASE_SERVICE_URL",
                                        "name": "service-urls",
                                        "optional": false
                                      }
                                    ],
                                    "field_ref": [],
                                    "resource_field_ref": [],
                                    "secret_key_ref": []
                                  }
                                ]
                              },
                              {
                                "name": "APP_BASE_URL",
                                "value": "",
                                "value_from": []
                              },
                              {
                                "name": "APP_BASE_WSS_URL",
                                "value": "ws://app-runtime-service/",
                                "value_from": []
                              },
                              {
                                "name": "APP_STORAGE_URL",
                                "value": "/mnt/pvc/app-storage/apps",
                                "value_from": []
                              },
                              {
                                "name": "BASE_ROOT_PATH",
                                "value": "/api/app-runtime",
                                "value_from": []
                              },
                              {
                                "name": "COUNT_INITIAL_CHUNKS",
                                "value": "15",
                                "value_from": []
                              },
                              {
                                "name": "EXOTEL_CHUNK_LENGTH_SIZE_MS",
                                "value": "100",
                                "value_from": []
                              },
                              {
                                "name": "EXOTEL_CHUNK_LENGTH_SLEEP_PERCENTAGE",
                                "value": "0",
                                "value_from": []
                              },
                              {
                                "name": "EXOTEL_FIRST_CHUNK_LENGTH_SIZE_MS",
                                "value": "100",
                                "value_from": []
                              },
                              {
                                "name": "EXOTEL_FIRST_TURN_MIN_SPEECH_FRAMES",
                                "value": "5",
                                "value_from": []
                              },
                              {
                                "name": "EXOTEL_QUEUE_CHUNK_DELAY",
                                "value": "100",
                                "value_from": []
                              },
                              {
                                "name": "EXOTEL_QUEUE_INITIAL_CHUNKS_DELAY",
                                "value": "100",
                                "value_from": []
                              },
                              {
                                "name": "EXOTEL_SILENT_AUDIO_SIZE_MS",
                                "value": "300",
                                "value_from": []
                              },
                              {
                                "name": "EXOTEL_START_SPEECH_VOLUME_THRESHOLD",
                                "value": "-29",
                                "value_from": []
                              },
                              {
                                "name": "LLAMAGUARD_URL",
                                "value": "http://vllm-l3-1-sarvam-chat-tool-guard-service:8002/v1/chat/completions",
                                "value_from": []
                              },
                              {
                                "name": "LOG_LEVEL",
                                "value": "DEBUG",
                                "value_from": []
                              },
                              {
                                "name": "MIN_SPEECH_FRAMES",
                                "value": "2",
                                "value_from": []
                              },
                              {
                                "name": "NUM_WORKERS",
                                "value": "1",
                                "value_from": []
                              },
                              {
                                "name": "OPENAI_API_KEY",
                                "value": "",
                                "value_from": []
                              },
                              {
                                "name": "OUTPUT_CHUNK_LENGTH_SIZE_MS",
                                "value": "800",
                                "value_from": []
                              },
                              {
                                "name": "OUTPUT_CHUNK_LENGTH_SLEEP_PERCENTAGE",
                                "value": "0.1",
                                "value_from": []
                              },
                              {
                                "name": "OUTPUT_FIRST_CHUNK_LENGTH_SIZE_MS",
                                "value": "200",
                                "value_from": []
                              },
                              {
                                "name": "REDIS_DB",
                                "value": "6",
                                "value_from": []
                              },
                              {
                                "name": "SARVAM_ASR_URL",
                                "value": "speech-whisper-batched-service:8000",
                                "value_from": []
                              },
                              {
                                "name": "SARVAM_LLM_LLAMA_3_1_70B_URL",
                                "value": "http://nim-llama3-1-8b-service:8000/v1/chat/completions",
                                "value_from": []
                              },
                              {
                                "name": "SARVAM_LLM_LLAMA_3_1_8B_URL",
                                "value": "http://nim-llama3-1-8b-service:8000/v1/chat/completions",
                                "value_from": []
                              },
                              {
                                "name": "SARVAM_LLM_URL",
                                "value": "http://nim-llama3-1-8b-service:8000/v1/chat/completions",
                                "value_from": []
                              },
                              {
                                "name": "SARVAM_OPENHATHI_URL",
                                "value": "http://vllm-l3-translation-new-service:8000/v1/chat/completions",
                                "value_from": []
                              },
                              {
                                "name": "SARVAM_OPENHATHI_XLIT_URL",
                                "value": "http://vllm-l3-translation-new-service:8002/v1/chat/completions",
                                "value_from": []
                              },
                              {
                                "name": "SARVAM_TTS_URL",
                                "value": "riva-combined-dev-service:8000",
                                "value_from": []
                              },
                              {
                                "name": "SILERO_VAD_URL",
                                "value": "sarvam-vad-service:50051",
                                "value_from": []
                              },
                              {
                                "name": "TRITON_PROMPT_INJECTION_URL",
                                "value": "riva-combined-dev-service:8000",
                                "value_from": []
                              }
                            ],
                            "env_from": [
                              {
                                "config_map_ref": [
                                  {
                                    "name": "observe-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [
                                  {
                                    "name": "redis-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              },
                              {
                                "config_map_ref": [],
                                "prefix": "",
                                "secret_ref": [
                                  {
                                    "name": "redis-secrets",
                                    "optional": false
                                  }
                                ]
                              }
                            ],
                            "image": "gitopsdocker.azurecr.io/sarvam-app-runtime-service:latest",
                            "image_pull_policy": "Always",
                            "lifecycle": [
                              {
                                "post_start": [],
                                "pre_stop": [
                                  {
                                    "exec": [
                                      {
                                        "command": [
                                          "sleep",
                                          "80"
                                        ]
                                      }
                                    ],
                                    "http_get": [],
                                    "tcp_socket": []
                                  }
                                ]
                              }
                            ],
                            "liveness_probe": [],
                            "name": "sarvam-app-runtime-service",
                            "port": [
                              {
                                "container_port": 8080,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {
                                  "cpu": "200m",
                                  "memory": "2Gi"
                                },
                                "requests": {
                                  "cpu": "100m",
                                  "memory": "1Gi"
                                }
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [
                              {
                                "mount_path": "/mnt/pvc",
                                "mount_propagation": "None",
                                "name": "shared-pvc",
                                "read_only": false,
                                "sub_path": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": {},
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "default",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 90,
                        "toleration": [
                          {
                            "effect": "NoSchedule",
                            "key": "sku",
                            "operator": "Equal",
                            "toleration_seconds": "",
                            "value": "gpu"
                          }
                        ],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "shared-pvc",
                            "nfs": [],
                            "persistent_volume_claim": [
                              {
                                "claim_name": "local-storage-pvc",
                                "read_only": false
                              }
                            ],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.auth_shared_secrets.kubernetes_secret_v1.main",
            "module.auth_shared_secrets.random_pet.main"
          ]
        }
      ]
    },
    {
      "module": "module.sarvam_app_runtime_svc",
      "mode": "managed",
      "type": "kubernetes_service_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "1",
          "schema_version": 1,
          "attributes": {
            "id": "default/sarvam-app-runtime-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "sarvam-app-runtime-service",
                "namespace": "default",
                "resource_version": "76045673",
                "uid": "4b337b9c-9b9d-4dfc-b34a-bdd2cfc87c66"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.0.54.82",
                "cluster_ips": [
                  "10.0.54.82"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "http",
                    "node_port": 31189,
                    "port": 80,
                    "protocol": "TCP",
                    "target_port": "8080"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app.kubernetes.io/name": "sarvam-app-runtime-service"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "LoadBalancer"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": [
                      {
                        "hostname": "",
                        "ip": "48.217.15.24"
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.sarvam_vad_service",
      "mode": "managed",
      "type": "kubernetes_deployment_v1",
      "name": "deploy",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/sarvam-vad-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 2,
                "labels": {
                  "app.kubernetes.io/name": "sarvam-vad-service"
                },
                "name": "sarvam-vad-service",
                "namespace": "default",
                "resource_version": "76042122",
                "uid": "b7073137-697b-4f15-980c-f80edcb2cb3d"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app.kubernetes.io/name": "sarvam-vad-service"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {},
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app.kubernetes.io/name": "sarvam-vad-service",
                          "azure.workload.identity/use": "true"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [],
                            "command": [],
                            "env": [
                              {
                                "name": "MAX_WORKERS",
                                "value": "5",
                                "value_from": []
                              }
                            ],
                            "env_from": [
                              {
                                "config_map_ref": [
                                  {
                                    "name": "observe-env",
                                    "optional": false
                                  }
                                ],
                                "prefix": "",
                                "secret_ref": []
                              }
                            ],
                            "image": "gitopsdocker.azurecr.io/sarvam-vad-service",
                            "image_pull_policy": "Always",
                            "lifecycle": [
                              {
                                "post_start": [],
                                "pre_stop": [
                                  {
                                    "exec": [
                                      {
                                        "command": [
                                          "sleep",
                                          "80"
                                        ]
                                      }
                                    ],
                                    "http_get": [],
                                    "tcp_socket": []
                                  }
                                ]
                              }
                            ],
                            "liveness_probe": [],
                            "name": "sarvam-vad-service",
                            "port": [
                              {
                                "container_port": 50051,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {
                                  "cpu": "500m",
                                  "memory": "2Gi"
                                },
                                "requests": {
                                  "cpu": "100m",
                                  "memory": "1Gi"
                                }
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": {},
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "default",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 90,
                        "toleration": [
                          {
                            "effect": "NoSchedule",
                            "key": "sku",
                            "operator": "Equal",
                            "toleration_seconds": "",
                            "value": "gpu"
                          }
                        ],
                        "topology_spread_constraint": [],
                        "volume": []
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"
        }
      ]
    },
    {
      "module": "module.sarvam_vad_service",
      "mode": "managed",
      "type": "kubernetes_service_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "1",
          "schema_version": 1,
          "attributes": {
            "id": "default/sarvam-vad-service",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "sarvam-vad-service",
                "namespace": "default",
                "resource_version": "75924170",
                "uid": "c81747e2-e006-4881-bc97-128efbd51fff"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.0.221.242",
                "cluster_ips": [
                  "10.0.221.242"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "grpc",
                    "node_port": 0,
                    "port": 50051,
                    "protocol": "TCP",
                    "target_port": "50051"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app.kubernetes.io/name": "sarvam-vad-service"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.weaviate_env",
      "mode": "managed",
      "type": "kubernetes_config_map_v1",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "default",
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "weaviate-url": "http://weaviate.default"
            },
            "id": "default/weaviate-env",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "weaviate-env",
                "namespace": "default",
                "resource_version": "75606786",
                "uid": "db81614e-a42c-4056-bcd0-4460668320fd"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "module.knowledge_base_authoring_service_worker.var.pod_termination_grace_period_seconds",
      "status": "unknown",
      "objects": [
        {
          "object_addr": "module.knowledge_base_authoring_service_worker.var.pod_termination_grace_period_seconds",
          "status": "unknown"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.auth_service.var.pod_termination_grace_period_seconds",
      "status": "unknown",
      "objects": [
        {
          "object_addr": "module.auth_service.var.pod_termination_grace_period_seconds",
          "status": "unknown"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.knowledge_base_runtime_service.var.pod_termination_grace_period_seconds",
      "status": "unknown",
      "objects": [
        {
          "object_addr": "module.knowledge_base_runtime_service.var.pod_termination_grace_period_seconds",
          "status": "unknown"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.knowledge_base_authoring_service.var.pod_termination_grace_period_seconds",
      "status": "unknown",
      "objects": [
        {
          "object_addr": "module.knowledge_base_authoring_service.var.pod_termination_grace_period_seconds",
          "status": "unknown"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.sarvam_app_runtime_svc.var.pod_termination_grace_period_seconds",
      "status": "unknown",
      "objects": [
        {
          "object_addr": "module.sarvam_app_runtime_svc.var.pod_termination_grace_period_seconds",
          "status": "unknown"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.sarvam_vad_service.var.pod_termination_grace_period_seconds",
      "status": "unknown",
      "objects": [
        {
          "object_addr": "module.sarvam_vad_service.var.pod_termination_grace_period_seconds",
          "status": "unknown"
        }
      ]
    }
  ]
}
